'use strict';var _exports;function init(){const a=require('../../lib/react.js'),b=require('../../cssStr/cssStr.js'),c=require('../../stores/webviewStores.js'),d=3,e=a.createClass({displayName:'WebviewAuthorizeDialog',getInitialState:function(){return{authorizeSdkId:0,appicon_url:'',appname:0,scope_list:[],webviewID:parseInt(this.props.webviewID)}},_authorizeSdkShowDialog:function(f,g,h,j,k){for(let l=0;l<k.length;++l){let m=k[l];m.checked=!(m.auth_state!=d)||2==m.auth_state}this.setState({authorizeSdkId:g,appicon_url:h,appname:j,scope_list:k}),this.props.showAuthorizeDialog(!0)},componentDidMount:function(){c.on(`SHOW_AUTHORIZE_SDK_DIALOG_${this.state.webviewID}`,this._authorizeSdkShowDialog)},componentWillUnmount:function(){c.removeListener(`SHOW_AUTHORIZE_SDK_DIALOG_${this.state.webviewID}`,this._authorizeSdkShowDialog)},handleOnAllow:function(){this.props.getSimulatorActions('S_AUTHORIZE_SDK_RETURN',this.state.webviewID,{authorizeSdkId:this.state.authorizeSdkId,scope_list:this.state.scope_list,isAllowed:!0}),this.props.showAuthorizeDialog(!1)},handleOnCancel:function(){this.props.getSimulatorActions('S_AUTHORIZE_SDK_RETURN',this.state.webviewID,{authorizeSdkId:this.state.authorizeSdkId,scope_list:this.state.scope_list,isAllowed:!1}),this.props.showAuthorizeDialog(!1)},_checkboxChange:function(f){var g=this.state.scope_list;return()=>{g[f].checked=!g[f].checked,this.setState({scope_list:g})}},render:function(){let f=this.props.show?{position:'absolute',width:'200px',top:'0'}:b.displayNone,g=this.state.scope_list,h=[];for(let j=0;j<g.length;++j){let k=g[j];if(k.auth_state==d)h.push(a.createElement('li',{key:k.scope},a.createElement('i',{className:'simulator-authorize-dialog-readonly'}),k.desc));else{let l='authorize_checkbox'+j,m=!!k.checked;h.push(a.createElement('li',{key:k.scope},a.createElement('label',{className:'simulator-authorize-dialog-checkbox',htmlFor:l},a.createElement('input',{id:l,type:'checkbox',checked:m,onChange:this._checkboxChange(j)}),a.createElement('i',null)),a.createElement('span',{onClick:this._checkboxChange(j)},k.desc)))}}return a.createElement('div',{style:f,className:'simulator-authorize-dialog-wrapper'},a.createElement('div',{className:'simulator-authorize-dialog-mask'}),a.createElement('div',{className:'simulator-authorize-dialog'},a.createElement('div',{className:'simulator-authorize-dialog-hd'},a.createElement('h3',{className:'simulator-authorize-dialog-title'},'\u5FAE\u4FE1\u767B\u9646')),a.createElement('div',{className:'simulator-authorize-dialog-bd'},a.createElement('img',{className:'simulator-authorize-dialog-logo',width:'100',src:this.state.appicon_url}),a.createElement('p',{className:'simulator-authorize-dialog-tips'},this.state.appname,' \u7533\u8BF7\u83B7\u5F97\u4EE5\u4E0B\u6743\u9650\uFF1A'),a.createElement('ul',{className:'simulator-authorize-dialog-list'},h)),a.createElement('div',{className:'simulator-authorize-dialog-ft'},a.createElement('a',{href:'javascript:;',onClick:this.handleOnAllow},'\u5141\u8BB8'),a.createElement('a',{href:'javascript:;',onClick:this.handleOnCancel},'\u62D2\u7EDD'))))}});_exports=e}init(),module.exports=_exports;