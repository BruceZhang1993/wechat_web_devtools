'use strict';var _exports;function init(){const a=require('../../../lib/react.js');require('../../../lib/react-dom.js');const b=require('./pickerRing'),c=a.createClass({displayName:'TimeRing',getInitialState:function(){const d=[],e=[];for(let f=0;60>f;f++)24>f&&d.push(9<f?''+f:'0'+f),e.push(9<f?''+f:'0'+f);return{hourArray:d,minuteArray:e,hourCurrent:0,minuteCurrent:0}},componentDidMount:function(){this.range={},this.setRange('start',this.props.start||'00:00'),this.setRange('end',this.props.end||'23:59'),this.setCurrent(this.props.current||'00:00')},componentWillReceiveProps:function(d){d.current!=this.props.current&&this.setCurrent(d.current),d.start!=this.props.start&&this.setRange('start',d.start),d.end!=this.props.end&&this.setRange('end',d.end)},setCurrent:function(d){let e=d.split(':'),f=parseInt(e[0]),g=parseInt(e[1]);this.setState({hourCurrent:isNaN(f)?0:Math.min(Math.max(f,0),23),minuteCurrent:isNaN(g)?0:Math.min(Math.max(g,0),59)})},setRange:function(d,e){let f=e.split(':'),g=parseInt(f[0]);g=isNaN(g)?0:g;let h=parseInt(f[1]);h=isNaN(h)?0:h,this.range[d]=60*g+h},onHourSelect:function(d){let e=60*d+this.state.minuteCurrent,f=d;e<this.range.start?f=parseInt(this.range.start/60):e>this.range.end&&(f=parseInt(this.range.end/60)),this.setState({hourCurrent:f}),this.refs.hourPicker.setCurrent(f)},onMinuteSelect:function(d){let e=60*this.state.hourCurrent+d,f=d;e<this.range.start?f=parseInt(this.range.start%60):e>this.range.end&&(f=parseInt(this.range.end%60),this.setState({minuteCurrent:f}),this.refs.minutePicker.setCurrent(f)),this.setState({minuteCurrent:f}),this.refs.minutePicker.setCurrent(f)},getValue:function(){return this.state.hourArray[this.state.hourCurrent]+':'+this.state.minuteArray[this.state.minuteCurrent]},render:function(){return a.createElement('div',{className:'wx-picker-bd'},a.createElement(b,{ref:'hourPicker',array:this.state.hourArray,current:this.state.hourCurrent,onPickerSelect:this.onHourSelect}),a.createElement(b,{ref:'minutePicker',array:this.state.minuteArray,current:this.state.minuteCurrent,onPickerSelect:this.onMinuteSelect}))}});_exports=c}init(),module.exports=_exports;