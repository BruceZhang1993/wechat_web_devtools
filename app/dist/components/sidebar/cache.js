'use strict';var _exports;function init(){const a=require('../../lib/react.js'),b=require('../../cssStr/cssStr.js'),c=require('../../stores/windowStores.js'),d=require('../../actions/windowActions.js'),e=require('../../actions/webviewActions.js'),f=require('../../stores/projectStores.js'),g=require('../../config/dirConfig.js'),h=require('glob'),i=require('path'),j=require('fs'),k=a.createClass({displayName:'Music',getInitialState:function(){return{show:!1}},clickOpen:function(){let l=this.state.show;this.setState({show:!l})},clearStorage:function(){let l=c.getUserInfo(),m=l?l.openid:'unknow',n=g.WeappStorage,o=this.props.project,p=o.appid,q=o.appname,r=i.join(n,`${p}_${q}_${m}.data.json`);j.unlink(r,s=>{d.showTipsMsg({msg:'\u6E05\u9664\u6570\u636E\u5B58\u50A8\u6210\u529F'}),e.upASData(p,{})})},clearFileStorage:function(){let l=c.getUserInfo(),m=l?l.openid:'unknow',n=g.WeappFileCache,o=this.props.project,p=o.hash;h('*',{cwd:n},(q,r)=>{let s=`${p}_${m}`;r.forEach(t=>{if(-1<t.indexOf(s)){let u=i.join(n,t);j.unlink(u)}}),d.showTipsMsg({msg:'\u6E05\u9664\u6587\u4EF6\u5B58\u50A8'})})},clearSdkUserAuthStorage:function(){f.setUserAuthPemissionStorage(this.props.project,{})},render:function(){let l=this.state.show?b.displayBlock:b.displayNone;return a.createElement('div',{onClick:this.clickOpen,title:'\u6E05\u9664\u7F13\u5B58',className:'sidebar-item'},a.createElement('i',{className:'sidebar-item-icon sidebar-item-icon-cache'}),a.createElement('label',{className:'sidebar-item-label'},'\u7F13\u5B58'),a.createElement('div',{className:'cache-card',style:l},a.createElement('div',{className:'cache-card-item',onClick:this.clearStorage},a.createElement('p',null,'\u6E05\u9664\u6570\u636E\u5B58\u50A8')),a.createElement('div',{className:'cache-card-item',onClick:this.clearFileStorage},a.createElement('p',null,'\u6E05\u9664\u6587\u4EF6\u5B58\u50A8')),a.createElement('div',{className:'cache-card-item',onClick:this.clearSdkUserAuthStorage},a.createElement('p',null,'\u6E05\u9664\u7528\u6237\u6388\u6743\u6570\u636E'))))}});_exports=k}init(),module.exports=_exports;