(function(){"use strict";if("chrome-devtools:"===location.protocol){function B(K,L,M,N){let O={to:K,msg:L,command:M,ext:N};O.comefrom="webframe",O.webviewID=l,window.postMessage(O,"*")}function C(){window.prompt,window.confirm,window.alert,window.alert=function(K){B("backgroundjs",{type:"alert",msg:K})},window.confirm=function(K){return!0}}function D(K){try{if("appservice"!==K){o=new WebInspector.DeviceModeModel(function(){}),o._target=WebInspector.targetManager.mainTarget(),o._applyTouch(!0,!0),o._target.emulationAgent().invoke_setDeviceMetricsOverride(p,function(){B("backgroundjs","","INIT_DEVTOOLS_SUCCESS")});let M=WebInspector.DOMModel.prototype.setInspectMode;WebInspector.DOMModel.prototype.setInspectMode=function(N,O){"searchForNode"===N?o._applyTouch(!1,!1):setTimeout(function(){o._applyTouch(!0,!0)},1000/60),M.call(this,N,O)}}else{var L;WebInspector.targetManager._targets[0].networkManager.addEventListener("ResponseReceived",M=>{let N=M.data;L||(L=document.getElementsByTagName("iframe")[0]);let O=N.securityDetails(),P={command:"securityDetails",url:N.url,statusCode:N.statusCode,remoteAddress:N._remoteAddress};O&&(P.protocol=O.protocol),L.contentWindow.postMessage(P,"*")}),WebInspector.targetManager._targets[0].networkManager._networkAgent.setCacheDisabled(!0),InspectorFrontendHost.openInNewTab=function(M){/^http:\/\/\d*\.appservice\.open\.weixin\.qq\.com/.test(M)||window.open(M)}}}catch(M){setTimeout(()=>{D(K)},1000/60)}}function F(){let K=WebInspector.inspectorView.showPanel;WebInspector.inspectorView.showPanel=function(L){E[L]&&(L="console"),localStorage.setItem("panelName",L),K.call(this,L)}}function H(){document.querySelector(".inspector-view-toolbar");let K=document.querySelector(".inspector-view-tabbed-pane")||document.querySelector(".insertion-point-main"),L=K.shadowRoot;J(L,{childList:!0,subtree:!0},M=>{let N=M.addedNodes;for(let O=0,P=N.length;O<P;O++){let Q=N[O];return"tabbed-pane-header-tab"===Q.className}},()=>{G.forEach(N=>{let O=L.querySelector(`#${N}`);O.style.display="none",J(O,{attributes:!0},P=>{let Q=P.target;Q.classList.contains("selected")&&WebInspector.inspectorView.showPanel("console")},()=>{})});let M=L.querySelector(".tabbed-pane-tab-slider");J(L.querySelector(".tabbed-pane-header-tabs"),{attributes:!0,subtree:!0},N=>{let O=L.querySelector(".selected"),P=O.offsetLeft,Q=O.offsetWidth,R=`transform: translateX(${P}px); width: ${Q}px;`;M.style.cssText=R},()=>{})})}function I(){n?(H(),F(),D("appservice")):D(),B("contentscript",{},"SHAKE_HANDS")}function J(K,L,M,N){let O=new MutationObserver(P=>{for(let Q=0,R=P.length;Q<R;Q++){let S=P[Q];if(M(S)){N(),O.disconnect();break}}});O.observe(K,L)}var k=navigator.userAgent,l=parseInt(k.match(/webview\/(\d*)/)[1]);k.match(/chromeRuntimeID\/(.*)\s?/)[1];var n=-1!==k.indexOf("asviewdevtools"),o,p={width:375,height:667,deviceScaleFactor:2,mobile:!0,fitWindow:!1};window.location.hash="no-back-button",window.location.hash="Again-No-back-button",window.onhashchange=function(){window.location.hash="no-back-button"},C(),window.addEventListener("message",K=>{let L=K.data||{},M=L.command,N=L.msg;"init"===M?(p.width=parseInt(N.width),p.height=parseInt(N.height),p.deviceScaleFactor=parseFloat(N.dpr),o&&o._target.emulationAgent().invoke_setDeviceMetricsOverride(p,function(){B("backgroundjs","","INIT_DEVTOOLS_SUCCESS")}),C(L)):"setEmulate"===M&&(p.width=parseInt(N.width),p.height=parseInt(N.height),p.deviceScaleFactor=parseFloat(N.dpr),o._target.emulationAgent().invoke_setDeviceMetricsOverride(p,function(){}))});const E={element:!0,timeline:!0,profiles:!0,security:!0,audits:!0,resources:!0},G=["tab-elements","tab-timeline","tab-profiles","tab-security","tab-audits","tab-resources"];J(document.body,{childList:!0},K=>{let L=K.addedNodes;for(let M=0,N=L.length;M<N;M++){let O=L[M];return"widget vbox root-view"===O.className}},()=>{I()})}})();