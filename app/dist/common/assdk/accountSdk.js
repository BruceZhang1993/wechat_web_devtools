'use strict';var _exports;function init(){const a=require('../../stores/projectStores.js'),b=require('../../common/request/request.js'),{jsLoginURL:c,jsRefreshSessionURL:d}=require('../../config/urlConfig.js');_exports={login:function(f,g){let h=a.getProjectByHash(f.apphash),i=h.appid;b({url:`${c}?appid=${i}`,method:'post',body:JSON.stringify({scope:['snsapi_base']}),needToken:1},(j,k,l)=>{let m={},n='';j||200!==k.statusCode?n=j.toString():(l=JSON.parse(l),l.baseresponse&&(0==l.baseresponse.errcode?m={errMsg:'login:ok',code:l.code}:n=l.baseresponse.errmsg)),m.errMsg||(m.errMsg=`login:fail ${n}`),g(m)})},refreshSession:function(f,g){let h=a.getProjectByHash(f.apphash),i=h.appid;b({url:`${d}?appid=${i}`,method:'post',needToken:1},(j,k,l)=>{let m={},n='';j||200!==k.statusCode?n=j.toString():(l=JSON.parse(l),l.baseresponse&&(0==l.baseresponse.errcode?m={errMsg:'refreshSession:ok',expireIn:l.session_expire_in,err_code:l.baseresponse.errcode}:n=l.baseresponse.errmsg)),m.errMsg||(m.errMsg=`refreshSession:fail ${n}`),g(m)})}}}init(),module.exports=_exports;