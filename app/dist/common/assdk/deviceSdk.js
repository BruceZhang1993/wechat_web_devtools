"use strict";function init(){function e(e,r,t){r({errMsg:t?"getNetworkTypeSync:ok":"getNetworkType:ok",networkType:h.getNetworkType()})}function r(){var e=p.getCurrentProject(),r=S.getWebviewInfo(),t=void 0,n=void 0;"iOS"===r.os?(t=y,n=_):(t=k,n=b);var o=r.height-n;o-="iOS"===r.os?20:h.getStatusBarHeight();var i=!1,s=S.getCurrentWebviewUrl();try{var a=w.parse(s);a=a.pathname.replace(/^\//,"").replace(/\.html$/,""),i=f.isTabBar(e,a)}catch(e){v.error("deviceSdk.js _getSystemInfo check isTabBar error:"+e+", route:"+s)}return i&&(o-=t),{model:r.model,pixelRatio:r.dpr,screenWidth:r.width,screenHeight:r.height,windowWidth:r.width,windowHeight:o,system:"iOS"===r.os?"iOS 10.0.1":"Android 5.0",language:"zh_CN",version:"6.5.6"}}function t(e,t,n){var o=r();o.errMsg="getSystemInfo:ok",t(o)}function n(e,t,n){var o=r();o.errMsg="getSystemInfoSync:ok",t(o)}function o(r,t){e(r,t,!0)}function i(e,r){var t=e.args.phoneNumber;j("拨打 "+t+"?【仅为模拟】",function(e){r(e?{errMsg:"makePhoneCall:ok"}:{errMsg:"makePhoneCall:cancel"})})}function s(e,r){var t=e.args,n=S.getSensorStatus();n.accelerometer=t.enable,S.setSensorStatus(n),r({errMsg:"enableAccelerometer:ok"})}function a(e,r){r({errMsg:"enableCompass:ok"})}function g(e,r){var t=S.getDeviceBrightness();r({errMsg:"getScreenBrightness:ok",value:t})}function c(e,r){var t=parseFloat(e.args.value);return isNaN(t)?void r({errMsg:"setScreenBrightness:fail error parameter"}):(S.setDeviceBrightness(t),void r({errMsg:"setScreenBrightness:ok"}))}function u(e,r){var t=p.getCurrentProject();d.checkWeRunState(t,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"用户未开启微信运动，请在微信客户端开启";return e?r({errMsg:"openWeRunSetting:fail "+e}):void(1==t?r({errMsg:"openWeRunSetting:ok"}):(r({errMsg:"openWeRunSetting:fail "+n}),l.showSimulatorConfirm({content:n,type:"alert"})))})}var l=(require("../../actions/webviewActions.js"),require("../../actions/windowActions.js")),h=require("../../stores/webviewStores.js"),S=require("../../stores/windowStores.js"),p=require("../../stores/projectStores.js"),f=require("../../weapp/utils/projectManager.js"),d=require("../actions/actions.js"),v=require("../log/log.js"),w=require("url"),m=(require("path"),require("../../config/weappConfig.js")),k=m.default_android_tabbar_height,b=m.default_android_titlebar_height,y=m.default_ios_tabbar_height,_=m.default_ios_titlebar_height,j=function(e,r){l.showSimulatorConfirm({content:e,callback:r})};_exports={getSystemInfoSync:n,getSystemInfo:t,getNetworkType:e,getNetworkTypeSync:o,makePhoneCall:i,enableAccelerometer:s,enableCompass:a,getScreenBrightness:g,setScreenBrightness:c,openWeRunSetting:u}}var _exports;init(),module.exports=_exports;