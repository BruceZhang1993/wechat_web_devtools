'use strict';var _exports;function init(){function a(y,z){let A=c.getCurrentProject(),B=c.getCurrentProjectConfig();if(A.isTourist)return z(w.Allow);if(B&&B.permission&&B.permission[y]){let C=B.permission[y];if(0===C.state)return z(w.NoAllow);if(4===C.state){let D=c.getSdkUserAuthStorage(A);if(D[y])return z(w.Allow);let E=C.userauth_wording||`${B.appname} 希望获取 ${y} 的操作权限，是否允许？`;return void x(E,function(F){F?(D[y]=1,c.setUserAuthPemissionStorage(A,D),z(w.Allow)):z(w.UserCancel)})}}return z(w.Allow)}const b=require('../../stores/webviewStores.js');require('../../stores/windowStores.js'),require('../../actions/webviewActions.js');const c=require('../../stores/projectStores.js'),d=require('../../actions/windowActions.js'),e=require('./storageSdk.js'),f=require('./navigatorSdk.js'),g=require('./uiSdk.js'),h=require('./locationSdk.js'),i=require('./deviceSdk.js'),j=require('./accountSdk.js'),k=require('./dataSdk.js'),l=require('./musicSdk.js'),m=require('./scanSdk.js'),n=require('./otherSdk.js'),o=require('./mediaSdk.js'),p=require('./fileSdk.js'),q=require('./networkSdk.js'),r=require('./nativeComponent.js'),s=require('./shareSdk.js'),t=require('./voiceSdk.js'),u=require('./paymentSdk.js'),v=Object.assign({},e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u),w={NoAllow:0,Allow:1,UserCancel:2},x=function(y,z){d.showSimulatorConfirm({content:y,callback:z})};_exports={init:()=>{b.on('')},destroy:()=>{b.removeListener('')},exec:(y,z)=>{let A=y.sdkName;a(A,function(B){B===w.Allow?v.hasOwnProperty(A)&&v[A](y,z):B===w.NoAllow?z({errMsg:`${A}:fail no permission`}):B===w.UserCancel&&z({errMsg:`${A}:cancel`})})}}}init(),module.exports=_exports;