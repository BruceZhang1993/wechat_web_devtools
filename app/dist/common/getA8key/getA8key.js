"use strict";function bitToPurview(e){for(var o={},r=e.length,s=0;r>s;s++)sdkBitConfig[s]&&1===parseInt(e[s])&&(o[sdkBitConfig[s]]=!0);return o}var urlConfig=require("../../config/urlConfig.js"),tools=require("../../utils/tools.js"),sdkBitConfig=require("./sdkBitConfig.js"),windowStores=require("../../stroes/windowStores.js"),MM_GETA8KEY_REASON_FIRST=0,MM_GETA8KEY_REASON_GET_PERMISSION=1,get=function(e,o){var r=tools.parseURL(e.url),s={url:r,scene:1,devtoolsVersion:tools.getVersionNum(),reason:e.isSync?MM_GETA8KEY_REASON_FIRST:MM_GETA8KEY_REASON_GET_PERMISSION},t={url:urlConfig.GET8KEY_URL,body:JSON.stringify(s),method:"post",needToken:!0},i=require("../request/request.js");i(t,function(e,r,s){if(!e){var t=JSON.parse(s);t.purviewFormGetA8key=t.jsapi_control_bytes?bitToPurview(t.jsapi_control_bytes):null,o(t)}})};module.exports={get:get};