"use strict";var proxy=require("../../../../modified_modules/anyproxy/proxy.js"),tools=require("../../utils/tools.js"),setAppProxy=require("./setAppProxy.js"),windowStores=require("../../stroes/windowStores.js"),isWin="win32"===process.platform;module.exports=function(o){tools.getAvailablePort(function(e){global._port=e[0],global._weinrePort=e[1],setAppProxy.set(function(){o(e[0])}),new proxy.proxyServer({type:"http",port:e[0],webPort:e[1],socketPort:e[2],webConfigPort:e[3],hostname:"127.0.0.1",interceptHttps:!0,silent:!0,rule:require("./proxyRule.js")})},4)};