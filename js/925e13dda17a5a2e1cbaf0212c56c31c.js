'use strict';!function(require,directRequire){const a=require('react'),b=require('classnames'),c=require('./8a6bfff9d7b1c7d81421b0982e3dda9e.js'),d=require('redux'),e=require('./a8c87029da0fa06e986298d447ab0fe2.js'),f=require('./1fcc6bd55b687d154a4247e57fe3011d.js'),g=require('./ba23d8b47b1f4ea08b9fd49939b9443f.js'),h=require('./6ff091369f442a4678a2ed4a1f758495.js'),i=require('./274c496e897a23f75f9287cb59f86a50.js'),j=require('./fc137838572a83604db39acff8e909e0.js'),k=require('./356b2757917fbfdeb38c7afc0271eed9.js'),l=require('./eadce02c750c875a10680bcfedadec88.js'),m=require('./629ccf62fc18c4d6caab59c1e6619a09.js'),n=require('./9e09e50c3559d9f0ac5b59acc73262e8.js'),o=require('./3b5f8e2469c474c8d433c1c6926d8999.js'),p=require('./5dc59f418d85e854c1a12d402d29e2d7.js'),q=require('./d3976cc01aeebc5b09e11c4135b6bd8d.js'),r=require('./3c55dff3626a3ee184d599f076158345.js'),s=require('./cc2c2970ff81ae4a83123e81ee123da2.js'),t=require('./9fdd4ac31a05c27355910f0d74accd4c.js'),u=require('./0794878a22a26634e42df858bbaca543.js'),v=require('./72410b6d4968336cd8b2fc1d41f52cdf.js'),w=require('./d3ce001ab1e75959382f6a7e0156dd17.js'),x=require('./56c390e04c10e91a4aa2a2c19d9a885d.js'),y=require('./bcb48ae14d243711d3b31cb0f602d209.js'),z=require('./948f9199c1cd0ba6cb9d19ad84972410.js'),A=require('./common/locales/index.js'),B=require('./3bfffbe88b3d923921f851c0697974fe.js'),C=require('./a1dd553cc059d528bb0ef56afed53968.js'),{QCLOUD_SVR_NO_FOUND_ERR:D,QCLOUD_SVR_POLL_TIMEOUT:E,QCLOUD_SVR_POLL_DOING:F}=require('./949d8235c744ced2a80121e4dba34c28.js'),{connect:G}=require('react-redux');class H extends a.Component{constructor(a){super(a),this.state={compileTypeDropDownLeft:0,compileTypeDropDownTop:0,QRCodeLeft:0,QRCodeTop:0,QCloudLeft:0,QCloudTop:0},this.compileTypeConstants=[{name:'\u5C0F\u7A0B\u5E8F\u6A21\u5F0F',value:t.weapp},{name:'\u4F1A\u8BDD\u52A8\u6001\u9875',value:t.conversation},{name:'\u641C\u7D22\u52A8\u6001\u9875',value:t.search}],this.QCloudConstants=[{name:'\u4E0A\u4F20\u4EE3\u7801',value:v.CLOUD_ACTION_UPLOAD},{name:'\u90E8\u7F72\u5F00\u53D1\u73AF\u5883',value:v.CLOUD_ACTION_DEPLOY_DEV},{name:'\u542F\u52A8\u5355\u6B65\u8C03\u8BD5',value:v.CLOUD_ACTION_DEBUG},{name:'\u5B89\u88C5\u4F9D\u8D56',value:v.CLOUD_ACTION_INSTALL_DEPENDENCE},{name:'\u91CD\u542F\u670D\u52A1',value:v.CLOUD_ACTION_RESTART_SERVICE},{name:'\u505C\u6B62\u670D\u52A1',value:v.CLOUD_ACTION_STOP_SERVICE},{name:'\u6062\u590D\u5F00\u53D1\u73AF\u5883',value:v.CLOUD_ACTION_RESET_SERVICE}]}componentDidMount(){}componentWillReceiveProps(a){if(a.previewQRShow!=this.props.previewQRShow&&a.previewQRShow){const a=this.qrbutton.getBoundingClientRect();this.setState({QRCodeLeft:a.left+-68,QRCodeTop:a.top+53})}}showErr(a,b='\u9519\u8BEF',c=()=>{}){this.props.infoActions.setConfirmInfo({show:!0,showCancel:!1,title:b,content:a,callback:async()=>{c()}})}showQcloudErr(a,b){let c,d=this.QCloudConstants.find((b)=>{return b.value===a}).name,e=b.code;c=e===D?'\u672A\u627E\u5230\u817E\u8BAF\u673A\u5668':e===E?`${d} 请求超时`:e===F?`请等待上次 ${d} 结果`:JSON.stringify(b),this.showErr(c,`${d} 错误`)}onSetAppservice(){this.props.windowActions.toggleDebugWindow()}async qcloudAddToNotificationCenter(a,b,c=!0){b&&this.notify(b,a),await z.open(),await z.insert([{type:y.DBType.cloud,timestamp:Date.now()/1e3,content:a}]),await z.close()}notify(a,b){w({priority:1,title:a,message:b})}onSetEditor(){this.props.windowActions.toggleEditorWindow()}onSetSimulator(){this.props.windowActions.toggleSimulatorWindow()}onLaunchSimulator(){this.props.setAppLaunched(!1)}toggleCompileCondiction(a){a.stopPropagation(),this.props.toolbarActions.toggleClickKey(l.COMPILECONDICTION);let b=a.currentTarget.getBoundingClientRect();this.setState({condictionDropDownLeft:b.left,condictionDropDownTop:b.top+20})}toggleQCloud(a){if(a.stopPropagation(),!this.props.actionBtnDisabled){let b=this.props.project,c=B.isQcloudProject(b);if(!c)return void this.props.infoActions.setConfirmInfo({show:!0,showCancel:!0,title:'\u672A\u6388\u6743\u817E\u8BAF\u4E91',content:`当前 AppID ${b.appid} 未授权给腾讯云，点击确定查看文档`,callback:async(a)=>{a&&nw.Shell.openExternal('https://github.com/tencentyun/wafer2-startup')}});if(this.props.qcloud&&this.props.qcloud.currentOperation){const a={[v.CLOUD_ACTION_UPLOAD]:'\u4E0A\u4F20',[v.CLOUD_ACTION_DEBUG]:'\u51C6\u5907\u5355\u6B65\u8C03\u8BD5',[v.CLOUD_ACTION_DEPLOY_DEV]:'\u90E8\u7F72\u5230\u6D4B\u8BD5\u73AF\u5883',[v.CLOUD_ACTION_DEPLOY_PRODUCT]:'\u90E8\u7F72\u5230\u6B63\u5F0F\u73AF\u5883',[v.CLOUD_ACTION_INSTALL_DEPENDENCE]:'\u5B89\u88C5\u4F9D\u8D56',[v.CLOUD_ACTION_RESET_SERVICE]:'\u6062\u590D\u5F00\u53D1\u73AF\u5883',[v.CLOUD_ACTION_RESTART_SERVICE]:'\u91CD\u542F\u670D\u52A1',[v.CLOUD_ACTION_STOP_SERVICE]:'\u505C\u6B62\u670D\u52A1'},b=a[this.props.qcloud.currentOperation];if(b)return void this.showErr(`正在${b}中，请等待操作完成`)}this.props.toolbarActions.toggleClickKey(l.QCLOUD);let d=a.currentTarget.getBoundingClientRect();this.setState({QCloudLeft:d.left,QCloudTop:d.top+20})}}toggleCleanCache(a){a.stopPropagation(),this.props.toolbarActions.toggleClickKey(l.CLEANCACHE)}togglePreviewCode(a){if(a.stopPropagation(),!this.props.actionBtnDisabled){let b=a.currentTarget.getBoundingClientRect();this.props.toolbarActions.togglePreviewCode({left:b.left,top:b.top})}}toggleProjectInfo(a){a.stopPropagation(),this.props.toolbarActions.toggleClickKey(l.PROJECTINFO)}toggleMusicCard(a){a.stopPropagation(),this.props.toolbarActions.toggleClickKey(l.MUSICCARD)}toggleCompileType(a){a.stopPropagation(),this.props.toolbarActions.toggleClickKey(l.COMPILETYPE);let b=a.currentTarget.getBoundingClientRect();this.setState({compileTypeDropDownLeft:b.left,compileTypeDropDownTop:b.top+22})}onUploadClick(){this.props.actionBtnDisabled||this.props.infoActions.setUploadInfo({show:!0})}onTestClick(){this.props.actionBtnDisabled||this.props.debugActions.openMobileTest()}onSetBackground(){let a;if(a=this.props.backgroundShow?'active':'background',C.triggerOnEvent({eventName:'onAppRunningStatusChange',data:{status:a}}),this.props.compileType==t.weapp)if(this.props.backgroundShow){let a=this.props.webviewInfo.pathName,b=this.props.webviewInfo.query,c=this.props.condiction;C.triggerOnEvent({eventName:'onAppEnterForeground',data:{path:a,query:b,scene:c.scene,shareInfo:c.shareInfo,referrerInfo:c.referrerInfo}})}else C.triggerOnEvent({eventName:'onAppEnterBackground'});this.props.setBackground({show:!this.props.backgroundShow})}onCompileTypeSelect(a){let b=this.compileTypeConstants[a];b&&this.props.setProjectCompileType(b.value),this.props.toolbarActions.toggleClickKey(l.COMPILETYPE)}async onQCloudSelect(a){this.QCloudConstants[a];switch(a){case 0:{this.props.qcloud&&this.props.qcloud.uploadStatus===x.STATUS.LOADING?this.showErr('\u4E0A\u6B21\u4E0A\u4F20\u5C1A\u672A\u5B8C\u6210\uFF0C\u8BF7\u7B49\u5F85\u4E0A\u4F20\u7ED3\u679C\u901A\u77E5','\u6B63\u5728\u4E0A\u4F20\u4E2D\uFF0C\u8BF7\u7B49\u5F85\u4E0A\u6B21\u4E0A\u4F20\u7ED3\u675F'):this.props.windowActions.setQCloud({uploadShow:!0});break}case 1:{this.qcloudDeployDev();break}case 2:{this.qcloudDebug();break}case 3:{this.qcloudInstallDep();break}case 4:{this.qcloudRestartService();break}case 5:{this.qcloudStopService();break}case 6:{this.qcloudResetService();break}case 7:{this.qcloudDeployProduct();break}}this.props.toolbarActions.toggleClickKey(l.QCLOUD)}async qcloudDebug(){try{this.props.setProjectQCloud({currentOperation:v.CLOUD_ACTION_DEBUG});let a=await u.operatecvm({action:v.CLOUD_ACTION_DEBUG,beforePoll:()=>{this.notify(A.config.QCLOUD_DEBUG_BEGIN_TITLE,A.config.QCLOUD_DEBUG_BEGIN_CONTENT)}});nw.Window.open(u.forMatDebugURL(a.ip,a.tunnelUrl),{width:799,height:799}),this.props.setProjectQCloud({currentOperation:''})}catch(a){this.props.setProjectQCloud({currentOperation:''}),this.showQcloudErr(v.CLOUD_ACTION_DEBUG,a)}}async qcloudDeployDev(){if(!this.props.qcloud||!this.props.qcloud.data||!this.props.qcloud.data.fileName)return void this.showErr(A.config.QCLOUD_DEPLOY_DEV_NEED_UPLOAD,A.config.QCLOUD_DEPLOY_DEV_FAIL_TITLE,()=>{this.props.setProjectQCloud({uploadShow:!0})});try{this.props.setProjectQCloud({currentOperation:v.CLOUD_ACTION_DEPLOY_DEV});await u.operatecvm({action:v.CLOUD_ACTION_DEPLOY_DEV,fileName:this.props.qcloud.data.fileName,beforePoll:()=>{this.qcloudAddToNotificationCenter(A.config.QCLOUD_DEPLOY_DEV_BEGIN_CONTENT,A.config.QCLOUD_DEPLOY_DEV_BEGIN_TITLE)}});this.qcloudAddToNotificationCenter(A.config.QCLOUD_DEPLOY_DEV_SUCCESS_CONTENT,A.config.QCLOUD_DEPLOY_DEV_SUCCESS_TITLE,!1),this.props.infoActions.showSuccessTip(A.config.QCLOUD_DEPLOY_DEV_SUCCESS_CONTENT),this.props.setProjectQCloud({currentOperation:''})}catch(a){this.props.setProjectQCloud({currentOperation:''}),this.showQcloudErr(v.CLOUD_ACTION_DEPLOY_DEV,a)}}async qcloudResetService(){try{this.props.setProjectQCloud({currentOperation:v.CLOUD_ACTION_RESET_SERVICE});await u.operatecvm({action:v.CLOUD_ACTION_RESET_SERVICE,beforePoll:()=>{this.qcloudAddToNotificationCenter(A.config.QCLOUD_RESET_SERVICE_BEGIN_CONTENT,A.config.QCLOUD_RESET_SERVICE_BEGIN_TITLE)}});this.qcloudAddToNotificationCenter(A.config.QCLOUD_RESET_SERVICE_SUCCESS_CONTENT,A.config.QCLOUD_RESET_SERVICE_SUCCESS_TITLE,!1),this.props.infoActions.showSuccessTip(A.config.QCLOUD_RESET_SERVICE_SUCCESS_CONTENT),this.props.setProjectQCloud({currentOperation:''})}catch(a){this.props.setProjectQCloud({currentOperation:''}),this.showQcloudErr(v.CLOUD_ACTION_RESET_SERVICE,a)}}async qcloudDeployProduct(){try{this.props.setProjectQCloud({currentOperation:v.CLOUD_ACTION_DEPLOY_PRODUCT});await u.operatecvm({action:v.CLOUD_ACTION_DEPLOY_PRODUCT,fileName:this.props.qcloud.data.fileName,beforePoll:()=>{this.qcloudAddToNotificationCenter(A.config.QCLOUD_DEPLOY_PRODUCT_BEGIN_CONTENT,A.config.QCLOUD_DEPLOY_PRODUCT_BEGIN_TITLE)}});this.qcloudAddToNotificationCenter(A.config.QCLOUD_DEPLOY_PRODUCT_SUCCESS_CONTENT,A.config.QCLOUD_DEPLOY_PRODUCT_SUCCESS_TITLE,!1),this.props.infoActions.showSuccessTip(A.config.QCLOUD_DEPLOY_PRODUCT_SUCCESS_CONTENT),this.props.setProjectQCloud({currentOperation:''})}catch(a){this.props.setProjectQCloud({currentOperation:''}),this.showQcloudErr(v.CLOUD_ACTION_DEPLOY_PRODUCT,a)}}async qcloudInstallDep(){try{this.props.setProjectQCloud({currentOperation:v.CLOUD_ACTION_INSTALL_DEPENDENCE});await u.operatecvm({action:v.CLOUD_ACTION_INSTALL_DEPENDENCE,beforePoll:()=>{this.qcloudAddToNotificationCenter(A.config.QCLOUD_INSTALL_DEP_BEGIN_CONTENT,A.config.QCLOUD_INSTALL_DEP_BEGIN_TITLE)}});this.qcloudAddToNotificationCenter(A.config.QCLOUD_INSTALL_DEP_SUCCESS_CONTENT,A.config.QCLOUD_INSTALL_DEP_SUCCESS_TITLE,!1),this.props.infoActions.showSuccessTip(A.config.QCLOUD_INSTALL_DEP_SUCCESS_CONTENT),this.props.setProjectQCloud({currentOperation:''})}catch(a){this.props.setProjectQCloud({currentOperation:''}),this.showQcloudErr(v.CLOUD_ACTION_INSTALL_DEPENDENCE,a)}}async qcloudRestartService(){try{this.props.setProjectQCloud({currentOperation:v.CLOUD_ACTION_RESTART_SERVICE});await u.operatecvm({action:v.CLOUD_ACTION_RESTART_SERVICE,beforePoll:()=>{this.qcloudAddToNotificationCenter(A.config.QCLOUD_RESTART_SERVICE_BEGIN_CONTENT,A.config.QCLOUD_RESTART_SERVICE_BEGIN_TITLE)}});this.qcloudAddToNotificationCenter(A.config.QCLOUD_RESTART_SERVICE_SUCCESS_CONTENT,A.config.QCLOUD_RESTART_SERVICE_SUCCESS_TITLE,!1),this.props.infoActions.showSuccessTip(A.config.QCLOUD_RESTART_SERVICE_SUCCESS_CONTENT),this.props.setProjectQCloud({currentOperation:''})}catch(a){this.showQcloudErr(v.CLOUD_ACTION_RESTART_SERVICE,a),this.props.setProjectQCloud({currentOperation:''})}}async qcloudStopService(){try{this.props.setProjectQCloud({currentOperation:v.CLOUD_ACTION_STOP_SERVICE});await u.operatecvm({action:v.CLOUD_ACTION_STOP_SERVICE,beforePoll:()=>{this.qcloudAddToNotificationCenter(A.config.QCLOUD_STOP_SERVICE_BEGIN_CONTENT,A.config.QCLOUD_STOP_SERVICE_BEGIN_TITLE)}});this.qcloudAddToNotificationCenter(A.config.QCLOUD_STOP_SERVICE_SUCCESS_CONTENT,A.config.QCLOUD_STOP_SERVICE_SUCCESS_TITLE,!1),this.props.infoActions.showSuccessTip(A.config.QCLOUD_STOP_SERVICE_SUCCESS_CONTENT),this.props.setProjectQCloud({currentOperation:''})}catch(a){this.props.setProjectQCloud({currentOperation:''}),this.showQcloudErr(v.CLOUD_ACTION_STOP_SERVICE,a)}}render(){let d=this.props,e='',f=this.compileTypeConstants.map((a)=>{return a.value==this.props.compileType&&(e=a.name),a.name}),g=this.QCloudConstants.map((a)=>{return a.name});return a.createElement('div',{className:'header'},a.createElement(c,null),a.createElement(r,{width:152,left:this.state.compileTypeDropDownLeft,top:this.state.compileTypeDropDownTop,show:d.clickkey==l.COMPILETYPE,list:f,onSelectClick:this.onCompileTypeSelect.bind(this)}),a.createElement(r,{width:152,left:this.state.QCloudLeft,top:this.state.QCloudTop,show:d.clickkey==l.QCLOUD,list:g,onSelectClick:this.onQCloudSelect.bind(this)}),d.previewQRShow?a.createElement(m,{left:this.state.QRCodeLeft,top:this.state.QRCodeTop}):null,a.createElement(i,{left:this.state.condictionDropDownLeft,top:this.state.condictionDropDownTop}),a.createElement('div',{className:'toolbar'},a.createElement('div',{className:'toolbar-items'},a.createElement('div',{className:'toolbar-item',onClick:this.onSetSimulator.bind(this)},a.createElement('div',{className:b('toolbar-action',{"toolbar-action-active":d.simulatorShow})},a.createElement('div',{className:'toolbar-button'},a.createElement('i',{className:'ui-icon-simulator'})),a.createElement('p',{className:'toolbar-label'},'\u6A21\u62DF\u5668'))),a.createElement('div',{className:'toolbar-item',onClick:this.onSetAppservice.bind(this)},a.createElement('div',{className:b('toolbar-action',{"toolbar-action-active":d.debugShow})},a.createElement('div',{className:'toolbar-button'},a.createElement('i',{className:'ui-icon-debug'})),a.createElement('p',{className:'toolbar-label'},'\u8C03\u8BD5\u5668'))),a.createElement('div',{className:'toolbar-item',onClick:this.onSetEditor.bind(this)},a.createElement('div',{className:b('toolbar-action',{"toolbar-action-active":d.editorShow})},a.createElement('div',{className:'toolbar-button'},a.createElement('i',{className:'ui-icon-editor'})),a.createElement('p',{className:'toolbar-label'},'\u7F16\u8F91\u5668')))),a.createElement('div',{className:'toolbar-items'},a.createElement('div',{className:'toolbar-item',style:{display:global.appConfig.isBeta?'':'none'}},a.createElement('div',{className:'toolbar-action-group'},a.createElement('div',{className:'toolbar-action',onClick:this.toggleCompileType.bind(this)},a.createElement('div',{className:'toolbar-action-selector'},a.createElement('p',null,e),a.createElement('i',{className:b({"ui-icon-arrow-down":d.clickkey!=l.COMPILETYPE,"ui-icon-arrow-up":d.clickkey==l.COMPILETYPE})}))))),a.createElement('div',{className:'toolbar-item-divider',style:{display:global.appConfig.isBeta?'':'none'}}),a.createElement('div',{className:'toolbar-item'},a.createElement('div',{className:'toolbar-action-group'},a.createElement('div',{className:'toolbar-action',onClick:this.toggleCompileCondiction.bind(this)},a.createElement('div',{className:'toolbar-action-selector',onClick:this.toggleCompileCondiction.bind(this)},a.createElement('p',null,d.condictionName),a.createElement('i',{className:b({"ui-icon-arrow-down":d.clickkey!=l.COMPILECONDICTION,"ui-icon-arrow-up":d.clickkey==l.COMPILECONDICTION})}))),a.createElement('div',{className:'toolbar-action',onClick:this.onLaunchSimulator.bind(this)},a.createElement('div',{className:'toolbar-button'},a.createElement('i',{className:'ui-icon-refresh'})),a.createElement('p',{className:'toolbar-label'},'\u7F16\u8BD1')),a.createElement('div',{className:'toolbar-action',ref:'previewBtn',disabled:d.actionBtnDisabled,onClick:this.togglePreviewCode.bind(this)},a.createElement('div',{className:'toolbar-button',ref:(a)=>this.qrbutton=a,title:d.disabledTips},a.createElement('i',{className:'ui-icon-eye'})),a.createElement('p',{className:'toolbar-label'},'\u9884\u89C8')))),a.createElement('div',{className:'toolbar-item'},a.createElement('div',{className:'toolbar-action',onClick:this.onSetBackground.bind(this)},a.createElement('div',{className:'toolbar-button'},a.createElement('i',{className:'ui-icon-backstage'})),a.createElement('p',{className:'toolbar-label'},'\u5207\u540E\u53F0'))),a.createElement('div',{className:'toolbar-item'},a.createElement('div',{className:'toolbar-action',onClick:this.toggleCleanCache.bind(this)},a.createElement('div',{className:'toolbar-button'},a.createElement('i',{className:'ui-icon-cache'}),a.createElement('i',{className:b({"ui-icon-arrow-down":d.clickkey!=l.CLEANCACHE,"ui-icon-arrow-up":d.clickkey==l.CLEANCACHE})})),a.createElement('p',{className:'toolbar-label'},'\u6E05\u7F13\u5B58')),a.createElement(k,null)),a.createElement('div',{className:'toolbar-item',style:d.musicShow?{}:o.displayNone},a.createElement('div',{className:'toolbar-action',onClick:this.toggleMusicCard.bind(this)},a.createElement('div',{className:'toolbar-button'},a.createElement('i',{className:'ui-icon-cache'})),a.createElement('p',{className:'toolbar-label'},'\u97F3\u4E50')),a.createElement(n,null))),a.createElement('div',{className:'toolbar-items'},a.createElement('div',{className:'toolbar-item-group'},a.createElement('div',{className:'toolbar-item'},a.createElement('div',{className:'toolbar-action',disabled:d.actionBtnDisabled,onClick:this.onUploadClick.bind(this)},a.createElement('div',{className:'toolbar-button',title:d.disabledTips},a.createElement('i',{className:'ui-icon-upload'})),a.createElement('p',{className:'toolbar-label'},'\u4E0A\u4F20'))),a.createElement('div',{className:'toolbar-item'},a.createElement('div',{className:'toolbar-action',disabled:d.actionBtnDisabled,onClick:this.onTestClick.bind(this)},a.createElement('div',{className:'toolbar-button',title:d.disabledTips},a.createElement('i',{className:'ui-icon-beaker'})),a.createElement('p',{className:'toolbar-label'},'\u6D4B\u8BD5'))),a.createElement('div',{className:'toolbar-item'},a.createElement('div',{className:'toolbar-action',disabled:d.actionBtnDisabled,onClick:this.toggleQCloud.bind(this)},a.createElement('div',{className:'toolbar-button',title:d.disabledTips},a.createElement('i',{className:'ui-icon-cloud'})),a.createElement('p',{className:'toolbar-label'},'\u817E\u8BAF\u4E91')))),a.createElement('div',{className:'toolbar-item-group'},a.createElement('div',{className:'toolbar-item'},a.createElement('div',{className:b('toolbar-action',{"toolbar-action-active":d.projectInfoShow}),onClick:this.toggleProjectInfo.bind(this)},a.createElement('div',{className:'toolbar-button'},a.createElement('i',{className:'ui-icon-bars'})),a.createElement('p',{className:'toolbar-label'},'\u9879\u76EE')))))))}}module.exports=G((a)=>{let b=a.project.current,c=b.compileType,d='\u666E\u901A\u7F16\u8BD1',e=b.condiction[c],f={};e&&e.list&&(f=e.list[e.current],f?d=f.name:f={});let g=a.simulator.music&&a.simulator.music.status,h=a.toolbar.clickKey,i=a.simulator.webviewInfos[a.simulator.currentWebviewID]||{},j=b.attr&&b.attr.userbanded,k=b.isTourist||!j,m='';return k&&(m=b.isTourist?A.config.ALERT_TOURIST_FORBIDDEN_CONTENT:j?'':A.config.CGI_ERR_NOT_BAND),{actionBtnDisabled:k,disabledTips:m,previewQRShow:l.PREVIEWCODE==h,debugShow:a.window.debug.show,editorShow:a.window.editor&&a.window.editor.show,simulatorShow:a.window.simulator&&a.window.simulator.show,projectInfoShow:l.PROJECTINFO==h,musicShow:g==p.MUSIC_STATE_PLAY||g==p.MUSIC_STATE_PAUSE,device:a.toolbar.deviceInfo,backgroundShow:a.simulator.backgroundShow,clickkey:a.toolbar.clickKey,qcloud:a.project.current&&a.project.current.qcloud,project:b,condiction:f,webviewInfo:i,compileType:c,condictionName:d}},(a)=>{return{toolbarActions:q.bindActionCreators(j,a),windowActions:q.bindActionCreators(e,a),infoActions:q.bindActionCreators(f,a),setProjectQCloud:q.bindActionCreators(s.setProjectQCloud,a),setAppLaunched:q.bindActionCreators(g.setAppLaunched,a),setBackground:q.bindActionCreators(g.setBackground,a),debugActions:q.bindActionCreators(h,a),setProjectCompileType:q.bindActionCreators(s.setProjectCompileType,a)}})(H)}(require('lazyload'),require);